{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Concert","description":"콘서트 API"},{"name":"Reservation","description":"좌석예약 API"},{"name":"User","description":"사용자 API"},{"name":"Waiting","description":"대기열 API"}],"paths":{"/waiting":{"post":{"tags":["Waiting"],"summary":"사용자 토큰 발급/조회 기능","description":"사용자의 대기열토큰을 발급 및 조회합니다.","operationId":"requestToken","parameters":[{"name":"userId","in":"query","description":"사용자id","required":true,"schema":{"type":"string","description":"사용자id"}}],"responses":{"200":{"description":"토큰반환","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WaitingResponse"}}}}}}},"/reservation":{"post":{"tags":["Reservation"],"summary":"좌석 예약 요청","description":"한 좌석에 예약을 요청합니다.","operationId":"createReservation","parameters":[{"name":"X-Waiting-Header","in":"header","description":"토큰","required":true,"schema":{"type":"string","description":"토큰"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReservationRequest"}}},"required":true},"responses":{"200":{"description":"예약성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ReservationResponse"}}}}}},"patch":{"tags":["Reservation"],"summary":"예약내역 결제 요청","description":"예약내역에 관한 결제를 요청합니다.","operationId":"payToReservation","parameters":[{"name":"X-Waiting-Header","in":"header","description":"토큰","required":true,"schema":{"type":"string","description":"토큰"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReservationPayReqeust"}}},"required":true},"responses":{"200":{"description":"결제성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ReservationResponse"}}}}}}},"/user/charge":{"patch":{"tags":["User"],"summary":"사용자 포인트 잔액 충전","description":"사용자의 포인트 잔액을 충전합니다.","operationId":"chargeUserPoint","parameters":[{"name":"X-Waiting-Header","in":"header","description":"토큰","required":true,"schema":{"type":"string","description":"토큰"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PointChargeRequest"}}},"required":true},"responses":{"200":{"description":"충전성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserPointResponse"}}}}}}},"/user/point":{"get":{"tags":["User"],"summary":"사용자 포인트 잔액 조회","description":"사용자의 포인트 잔액을 조회합니다.","operationId":"point","parameters":[{"name":"X-Waiting-Header","in":"header","description":"토큰","required":true,"schema":{"type":"string","description":"토큰"}}],"responses":{"200":{"description":"조회성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserPointResponse"}}}}}}},"/concert":{"get":{"tags":["Concert"],"summary":"예약가능 날짜 조회","description":"예약가능한 공연날짜 리스트를 조회합니다.","operationId":"availableConcerts","parameters":[{"name":"X-Waiting-Header","in":"header","description":"토큰","required":true,"schema":{"type":"string","description":"토큰"}},{"name":"from","in":"query","description":"검색날짜범위1","required":false,"schema":{"type":"string","description":"검색날짜범위1"}},{"name":"end","in":"query","description":"검색날짜범위2","required":false,"schema":{"type":"string","description":"검색날짜범위2"}}],"responses":{"200":{"description":"조회성공","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ConcertResponse"}}}}}}}},"/concert/{concertId}":{"get":{"tags":["Concert"],"summary":"예약가능 좌석 조회","description":"공연정보로 공연좌석 리스트를 조회합니다.","operationId":"availableSeats","parameters":[{"name":"X-Waiting-Header","in":"header","description":"토큰","required":true,"schema":{"type":"string","description":"토큰"}},{"name":"concertId","in":"path","description":"공연id","required":true,"schema":{"type":"string","description":"공연id"}}],"responses":{"200":{"description":"조회성공","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SeatResponse"}}}}}}}}},"components":{"schemas":{"WaitingResponse":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"token":{"type":"string"},"status":{"type":"string"},"waitingNo":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"}}},"ReservationRequest":{"type":"object","properties":{"seatId":{"type":"integer","description":"좌석id","format":"int64"}}},"ReservationResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"seatId":{"type":"integer","format":"int64"},"price":{"type":"integer","format":"int64"},"status":{"type":"string"},"reservedAt":{"type":"string","format":"date-time"}}},"PointChargeRequest":{"type":"object","properties":{"amount":{"type":"integer","description":"충전금액","format":"int64"}}},"UserPointResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"point":{"type":"integer","format":"int64"}}},"ReservationPayReqeust":{"type":"object","properties":{"reservationId":{"type":"integer","description":"예약id","format":"int64"}}},"ConcertResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"concertDate":{"type":"string","format":"date"},"startTime":{"$ref":"#/components/schemas/LocalTime"}}},"LocalTime":{"type":"object","properties":{"hour":{"type":"integer","format":"int32"},"minute":{"type":"integer","format":"int32"},"second":{"type":"integer","format":"int32"},"nano":{"type":"integer","format":"int32"}}},"SeatResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"seatNo":{"type":"integer","format":"int32"},"price":{"type":"integer","format":"int64"},"occupied":{"type":"boolean"}}}}}}
